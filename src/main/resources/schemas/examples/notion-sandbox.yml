---
naftiko: "0.3"
info:
  label: "Notion capability"
  description: "This is a capability enabling consumption of Notion API."
capability:
  exposes:
    - type: "api"
      address: "localhost"
      namespace: "notion-api-proxy"
      port: 8080
      resources:
        - path: "/notion/{{path}}"
          label: "Notion API Pass-thru Proxy"
          description: "A proxy to forward requests to the Notion API while the capability is being configured"
          forward:
            trustedHeaders:
            - "Notion-Version"
            targetNamespace: "notion"
  consumes:
    - namespace: "notion"
      type: http
      baseUri: "https://api.notion.com/v1"
      authentication:
        type: "basic"
        username: "scott"
        password: "tiger"
      resources:
        - name: "db"
          path:  "databases/{{database_id}}"
          operations:
            - name: get-database
              method: GET

