capability:
  naftiko: "0.3"
  exposes:
    - type: api
      address: localhost
      port: 0
      resources:
        - path: /users
          operations:
            - method: POST
              name: create-user
              call:
                operation: testns.create
              inputParameters:
                - name: userId
                  in: body
                  template: $.user.id
                - name: userName
                  in: body
                  template: $.user.name
  consumes:
    - type: http
      namespace: testns
      baseUri: http://example.com
      resources:
        - path: /create
          operations:
            - method: POST
              name: create
              body: |
                {"id":"{{userId}}","name":"{{userName}}"}
